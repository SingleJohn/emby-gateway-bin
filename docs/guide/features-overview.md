# 功能总览

这篇文档给普通用户看：你可以用 emby-gateway 做什么、适合什么场景、去哪里配置。

## 1. 核心能力

| 功能 | 作用 | 常见场景 |
|---|---|---|
| 多后端分流 | 把播放请求分发到不同存储后端 | 同时使用 S3、CDN、本地盘 |
| 路由规则匹配 | 按路径前缀或规则匹配不同资源 | 电影/剧集走不同存储 |
| 主备切换 | 主后端失败时自动尝试备后端 | 降低播放失败率 |
| 本地文件直链 | 本地目录通过签名直链访问 | 家庭 NAS、本地盘 |
| GDrive 直链 | 支持 Google Drive 回源 | 海外存储场景 |
| 请求日志与统计 | 看访问、状态码、失败趋势 | 日常运维与排障 |

## 2. 你需要配置的 4 个对象

1. `Source`：入口（你的 Emby 播放请求从哪里进来）
2. `后端`：存储目标（S3/CDN/GDrive/本地等）
3. `资源池`：把后端组成主备关系
4. `路由规则`：决定哪些请求走哪个资源池

你只要按这个顺序配置，基本不会乱。

## 3. 典型使用场景

### 场景 A：单后端（最简单）

- 1 个 Source + 1 个后端 + 1 条默认路由
- 适合刚开始使用，先跑通链路

### 场景 B：主备高可用

- 1 个资源池里配置“主后端 + 备后端”
- 主后端异常时自动切到备后端

### 场景 C：按路径分流

- 电影路径走后端 A，剧集路径走后端 B
- 常用于冷热数据分层、成本优化

## 4. 配置入口建议

- 新用户先看：`快速开始`
- 实操配置看：`一步步配置指南`
- 路由逻辑看：`路由与故障切换`
- GDrive 专项看：`GDrive Worker 指南`
